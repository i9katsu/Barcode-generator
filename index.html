<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script type="text/javascript" src="JsBarcode.all.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="barcodeGenerator">
            <h1> Barcode generator</h1>
            <input type="text" id="value">
            <button onclick="generateBarcode()">Generate Barcode</button>
            <div class="a">
                <div class="b">
                    <br>
                    <button onclick="dWidth()">-</button>
                    <label> Width </label>
                    <button onclick="iWidth()">+</button>
                    <br>
                    <br>
                    <button onclick="dHeight()">-</button>
                    <label> Height </label>
                    <button onclick="iHeight()">+</button>
                    <br>
                    <br>
                    <button onclick="dFont()">-</button>
                    <label> Font size </label>
                    <button onclick="iFont()">+</button>
                    <br>
                    <br>
                    <label>Change color:</label>
                    <input oninput="updateColor()" type="color" id="color">
                    <br>
                    <br>
                    <label>Barcode size</label>
                    <input oninput="changeSize()" type="range" id="size" value="0" name="vol" min="0" max="70" step="1">
                </div>
                <div class="c">
                    <br>
                    <label>Show value</label>
                    <br>
                    <br>
                    <label onclick="value()" class="switch">
                        <input id="check" type="checkbox" checked>
                        <span class="slider round"></span>
                    </label>
                    <br>
                    <br>
                    <label> Pick format </label> <br>
                    <select id="format" oninput="updateFormat()">
                        <option value="CODE128">CODE128</option>
                        <option value="CODE39">CODE39</option>
                        <option value="ITF14">ITF-14</option>
                        <option value="EAN13">EAN-13</option>
                        <option value="EAN8">EAN-8</option>
                        <option value="EAN5">EAN-5</option>
                        <option value="EAN2">EAN-2</option>
                        <option value="UPC">UPC-A</option>
                        <option value="MSI">MSI</option>
                        <option value="MSI10">MSI10</option>
                        <option value="MSI11">MSI11</option>
                        <option value="MSI1010">MSI1010</option>
                        <option value="MSI1110">MSI1110</option>
                        <option value="pharmacode">pharmacode</option>
                    </select>
                    <br>
                    <br>
                    <button type="button" onclick="info()" id="info"> Learn more</button>
                </div>
            </div>
        </div>
        <div class="barcodeData">
            <p> Width: <label id="width"> -- </label></p>
            <p> Height: <label id="height"> -- </label></p>
            <p> Font size: <label id="fontSize"> -- </label></p>
        </div>
    </div>
    <br>
    <svg id="barcode"></svg>


    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <p id="modalText"></p>
        </div>
    </div>
</body>
<script>
    let defaultWidth = 2;
    let defaultHeight = 55;
    let DisplayValue = true;
    let color = '#000000';
    let fontSize = 20;
    let scale = 1;
    let Format = document.getElementById("format").value;
    function generateBarcode() {
        let barcodeInput = document.getElementById("value").value;
        JsBarcode("#barcode", barcodeInput, {
            format: Format,
            width: defaultWidth,
            height: defaultHeight,
            displayValue: DisplayValue,
            lineColor: color,
            fontSize: fontSize,
        });
        document.getElementById("width").innerHTML = defaultWidth;
        document.getElementById("height").innerHTML = defaultHeight;
        document.getElementById("fontSize").innerHTML = fontSize;

        document.getElementById("barcode").style.transform = `scale(${scale})`;
    }

    function value() {
        if(document.getElementById("check").checked) {
            DisplayValue = true;
        } else {
            DisplayValue = false;
        }
        generateBarcode();
    }
    function dWidth() {
        if(defaultWidth > 1) {
            defaultWidth--;
        }
        generateBarcode();
    }
    function iWidth() {
        defaultWidth++;
        generateBarcode();
    }
    function dHeight() {
        if(defaultHeight > 1) {
            defaultHeight--;
        }
        generateBarcode();
    }
    function iHeight() {
        defaultHeight++;
        generateBarcode();
    }
    function updateColor() {
        let value = document.getElementById("color").value;
        color = value;
        generateBarcode();
    }
    function dFont() {
        if(fontSize > 1) {
            fontSize--;
        }
        generateBarcode();
    }
    function iFont() {
        fontSize++;
        generateBarcode();
    }
    function updateFormat() {
        Format = document.getElementById("format").value;
        generateBarcode();
    }
    function info() {
        var modal = document.getElementById('myModal');
            var modalText = document.getElementById('modalText');
            modalText.innerHTML = `
            <ul>
                <li><strong>CODE128</strong>: High-density, alphanumeric barcode. Ex: <code>1234567890AB</code></li>
    <li><strong>CODE39</strong>: Alphanumeric barcode with a limited character set. Ex: <code>BOOK1234</code></li>
    <li><strong>ITF-14</strong>: Used for packaging and logistics, numeric-only. Ex: <code>01234567890123</code></li>
    <li><strong>EAN-13</strong>: Standard 13-digit barcode for retail products. Ex: <code>9781234567890</code></li>
    <li><strong>EAN-8</strong>: Shortened 8-digit version of EAN-13. Ex: <code>12345678</code></li>
    <li><strong>EAN-5</strong>: Used as an add-on to EAN-13 for additional information. Ex: <code>9781234567890-12</code></li>
    <li><strong>EAN-2</strong>: Used as an add-on to EAN-13 for supplementary information. Ex: <code>9781234567890-01</code></li>
    <li><strong>UPC-A</strong>: 12-digit barcode used in retail, similar to EAN-13. Ex: <code>012345678912</code></li>
    <li><strong>MSI</strong>: Numeric-only barcode, used in industrial and retail environments. Ex: <code>123456789</code></li>
    <li><strong>MSI10</strong>: Variant of MSI with a 10-digit length. Ex: <code>1234567890</code></li>
    <li><strong>MSI11</strong>: Variant of MSI with an 11-digit length. Ex: <code>12345678901</code></li>
    <li><strong>MSI1010</strong>: MSI with a 10-digit length and check digit. Ex: <code>1234567890-1</code></li>
    <li><strong>MSI1110</strong>: MSI with an 11-digit length and check digit. Ex: <code>12345678901-2</code></li>
    <li><strong>Pharmacode</strong>: Used in pharmaceuticals for product identification. Ex: <code>12345</code></li>
            </ul>
            `;

            modal.style.display = "block";
    }
    function closeModal() {
            var modal = document.getElementById('myModal');
            modal.style.display = "none";
    }

    // Close the modal when clicking outside of it
    window.onclick = function(event) {
        var modal = document.getElementById('myModal');
        if (event.target === modal) {
            modal.style.display = "none";
        }
    }

    function changeSize() {
    const svg = document.getElementById("barcode");
    const slider = document.getElementById("size");
    scale = 1 + (slider.value / 100);
    svg.style.transform = `scale(${scale})`;
}

</script>
</html>